{"remainingRequest":"C:\\Users\\eekar\\OneDrive\\Belgeler\\Git Repo\\spoti-match\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\eekar\\OneDrive\\Belgeler\\Git Repo\\spoti-match\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\eekar\\OneDrive\\Belgeler\\Git Repo\\spoti-match\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\eekar\\OneDrive\\Belgeler\\Git Repo\\spoti-match\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\eekar\\OneDrive\\Belgeler\\Git Repo\\spoti-match\\src\\components\\playback.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"C:\\Users\\eekar\\OneDrive\\Belgeler\\Git Repo\\spoti-match\\src\\components\\playback.vue","mtime":1642018121000},{"path":"C:\\Users\\eekar\\OneDrive\\Belgeler\\Git Repo\\spoti-match\\babel.config.js","mtime":1642018121000},{"path":"C:\\Users\\eekar\\OneDrive\\Belgeler\\Git Repo\\spoti-match\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650540585164},{"path":"C:\\Users\\eekar\\OneDrive\\Belgeler\\Git Repo\\spoti-match\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1650540585162},{"path":"C:\\Users\\eekar\\OneDrive\\Belgeler\\Git Repo\\spoti-match\\node_modules\\babel-loader\\lib\\index.js","mtime":1650540586655},{"path":"C:\\Users\\eekar\\OneDrive\\Belgeler\\Git Repo\\spoti-match\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650540585164},{"path":"C:\\Users\\eekar\\OneDrive\\Belgeler\\Git Repo\\spoti-match\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1650540586987}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBub3JtYWxpemVDbGFzcyBhcyBfbm9ybWFsaXplQ2xhc3MgfSBmcm9tICJ2dWUiOwp2YXIgX2hvaXN0ZWRfMSA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJpdGVtIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogIml0ZW0taW1hZ2UiCn07CnZhciBfaG9pc3RlZF8zID0gWyJzcmMiXTsKdmFyIF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJjb250ZW50Igp9Owp2YXIgX2hvaXN0ZWRfNSA9IHsKICBjbGFzczogInRpdGxlIgp9Owp2YXIgX2hvaXN0ZWRfNiA9IHsKICBjbGFzczogImRlc2MiCn07CnZhciBfaG9pc3RlZF83ID0gewogIGtleTogMSwKICBjbGFzczogImFjdGlvbi1idXR0b25zIgp9OwppbXBvcnQgeyBvbk1vdW50ZWQsIHJlZiB9IGZyb20gInZ1ZSI7CmltcG9ydCB7IGdldE15Q3VycmVudFBsYXlpbmdUcmFjaywgcGF1c2UsIHBsYXksIHNraXBUb1ByZXZpb3VzLCBza2lwVG9OZXh0IH0gZnJvbSAiQC9zZXJ2aWNlcy9zcG90aWZ5IjsKZXhwb3J0IGRlZmF1bHQgewogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChfX3Byb3BzKSB7CiAgICB2YXIgY29udGFpbmVyQ2xhc3MgPSByZWYoIiIpOwogICAgdmFyIHBsYXliYWNrID0gcmVmKG51bGwpOwogICAgdmFyIHBsYXliYWNrRGF0YSA9IHJlZigpOwoKICAgIHZhciBnZXRDdXJyZW50UGxheWluZyA9IGZ1bmN0aW9uIGdldEN1cnJlbnRQbGF5aW5nKCkgewogICAgICBnZXRNeUN1cnJlbnRQbGF5aW5nVHJhY2soKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBwbGF5YmFja0RhdGEudmFsdWUgPSByZXM7CiAgICAgIH0pOwogICAgfTsKCiAgICB2YXIgdG9nZ2xlU3RhdHVzID0gZnVuY3Rpb24gdG9nZ2xlU3RhdHVzKCkgewogICAgICBpZiAocGxheWJhY2tEYXRhLnZhbHVlLmlzX3BsYXlpbmcpIHsKICAgICAgICBwYXVzZSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgZ2V0Q3VycmVudFBsYXlpbmcoKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwbGF5KCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBnZXRDdXJyZW50UGxheWluZygpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9OwoKICAgIHZhciBwcmV2ID0gZnVuY3Rpb24gcHJldigpIHsKICAgICAgc2tpcFRvUHJldmlvdXMoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBnZXRDdXJyZW50UGxheWluZygpOwogICAgICB9KTsKICAgIH07CgogICAgdmFyIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkgewogICAgICBza2lwVG9OZXh0KCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgZ2V0Q3VycmVudFBsYXlpbmcoKTsKICAgICAgfSk7CiAgICB9OwoKICAgIG9uTW91bnRlZChmdW5jdGlvbiAoKSB7CiAgICAgIGdldEN1cnJlbnRQbGF5aW5nKCk7IC8vIGlmIHVzZXIgc2Nyb2xscyB0byB0aGUgYm90dG9tIG9mIHRoZSBwYWdlLAoKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgZnVuY3Rpb24gKCkgewogICAgICAgIGlmICh3aW5kb3cuaW5uZXJIZWlnaHQgKyB3aW5kb3cuc2Nyb2xsWSArIHBsYXliYWNrLnZhbHVlLm9mZnNldEhlaWdodCA+PSBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCAqIDAuOSkgewogICAgICAgICAgLy8gdGhlbiBsb2FkIG1vcmUgZGF0YQogICAgICAgICAgY29udGFpbmVyQ2xhc3MudmFsdWUgPSAiZml4ZCI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnRhaW5lckNsYXNzLnZhbHVlID0gImZpeGVkIjsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge30sIDUwMCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogICAgcmV0dXJuIGZ1bmN0aW9uIChfY3R4LCBfY2FjaGUpIHsKICAgICAgdmFyIF9jb21wb25lbnRfaW9uX2ljb24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiaW9uLWljb24iKTsKCiAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgICAgICBjbGFzczogX25vcm1hbGl6ZUNsYXNzKFsicGxheWJhY2siLCBjb250YWluZXJDbGFzcy52YWx1ZV0pLAogICAgICAgIHJlZl9rZXk6ICJwbGF5YmFjayIsCiAgICAgICAgcmVmOiBwbGF5YmFjawogICAgICB9LCBbcGxheWJhY2tEYXRhLnZhbHVlID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJpbWciLCB7CiAgICAgICAgc3JjOiBwbGF5YmFja0RhdGEudmFsdWUuaXRlbS5hbGJ1bS5pbWFnZXNbMF0udXJsCiAgICAgIH0sIG51bGwsIDgsIF9ob2lzdGVkXzMpXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzQsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF81LCBfdG9EaXNwbGF5U3RyaW5nKHBsYXliYWNrRGF0YS52YWx1ZS5pdGVtLm5hbWUpLCAxKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNiwgX3RvRGlzcGxheVN0cmluZyhwbGF5YmFja0RhdGEudmFsdWUuaXRlbS5hcnRpc3RzWzBdLm5hbWUpLCAxKV0pXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksIHBsYXliYWNrRGF0YS52YWx1ZSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzcsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9pb25faWNvbiwgewogICAgICAgIG5hbWU6ICJwbGF5LWJhY2stb3V0bGluZSIsCiAgICAgICAgb25DbGljazogcHJldgogICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfaW9uX2ljb24sIHsKICAgICAgICBuYW1lOiBwbGF5YmFja0RhdGEudmFsdWUuaXNfcGxheWluZyA/ICdwYXVzZS1vdXRsaW5lJyA6ICdwbGF5LW91dGxpbmUnLAogICAgICAgIG9uQ2xpY2s6IHRvZ2dsZVN0YXR1cwogICAgICB9LCBudWxsLCA4LCBbIm5hbWUiXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2lvbl9pY29uLCB7CiAgICAgICAgbmFtZTogInBsYXktZm9yd2FyZC1vdXRsaW5lIiwKICAgICAgICBvbkNsaWNrOiBuZXh0CiAgICAgIH0pXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSldLCAyKTsKICAgIH07CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAyBA,SAASA,SAAT,EAAoBC,GAApB,QAA+B,KAA/B;AACA,SACEC,wBADF,EAEEC,KAFF,EAGEC,IAHF,EAIEC,cAJF,EAKEC,UALF,QAMO,oBANP;;;AAOA,QAAMC,cAAc,GAAGN,GAAG,CAAC,EAAD,CAA1B;AACA,QAAMO,QAAQ,GAAGP,GAAG,CAAC,IAAD,CAApB;AACA,QAAMQ,YAAY,GAAGR,GAAG,EAAxB;;AAEA,QAAMS,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAC9BR,8BAAwB,GAAGS,IAA3B,CAAgC,UAACC,GAAD,EAAS;AACvCH,oBAAY,CAACI,KAAb,GAAqBD,GAArB;AACD,OAFD;AAGD,KAJD;;AAMA,QAAME,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzB,UAAIL,YAAY,CAACI,KAAb,CAAmBE,UAAvB,EAAmC;AACjCZ,aAAK,GAAGQ,IAAR,CAAa,YAAM;AACjBD,2BAAiB;AAClB,SAFD;AAGD,OAJD,MAIO;AACLN,YAAI,GAAGO,IAAP,CAAY,YAAM;AAChBD,2BAAiB;AAClB,SAFD;AAGD;AACF,KAVD;;AAYA,QAAMM,IAAI,GAAG,SAAPA,IAAO,GAAM;AACjBX,oBAAc,GAAGM,IAAjB,CAAsB,YAAM;AAC1BD,yBAAiB;AAClB,OAFD;AAGD,KAJD;;AAMA,QAAMO,IAAI,GAAG,SAAPA,IAAO,GAAM;AACjBX,gBAAU,GAAGK,IAAb,CAAkB,YAAM;AACtBD,yBAAiB;AAClB,OAFD;AAGD,KAJD;;AAMAV,aAAS,CAAC,YAAM;AACdU,uBAAiB,GADH,CAGd;;AACAQ,cAAQ,CAACC,gBAAT,CAA0B,QAA1B,EAAoC,YAAM;AACxC,YACEC,MAAM,CAACC,WAAP,GAAqBD,MAAM,CAACE,OAA5B,GAAsCd,QAAQ,CAACK,KAAT,CAAeU,YAArD,IACAL,QAAQ,CAACM,IAAT,CAAcD,YAAd,GAA6B,GAF/B,EAGE;AACA;AACAhB,wBAAc,CAACM,KAAf,GAAuB,MAAvB;AACD,SAND,MAMO;AACLN,wBAAc,CAACM,KAAf,GAAuB,OAAvB;AACAY,oBAAU,CAAC,YAAM,CAAE,CAAT,EAAW,GAAX,CAAV;AACD;AACF,OAXD;AAYD,KAhBQ,CAAT","names":["onMounted","ref","getMyCurrentPlayingTrack","pause","play","skipToPrevious","skipToNext","containerClass","playback","playbackData","getCurrentPlaying","then","res","value","toggleStatus","is_playing","prev","next","document","addEventListener","window","innerHeight","scrollY","offsetHeight","body","setTimeout"],"sources":["C:/Users/eekar/OneDrive/Belgeler/Git Repo/spoti-match/src/components/playback.vue"],"sourcesContent":["<template>\n  <div class=\"playback\" ref=\"playback\" :class=\"containerClass\">\n    <div class=\"item\" v-if=\"playbackData\">\n      <div class=\"item-image\">\n        <img :src=\"playbackData.item.album.images[0].url\" />\n      </div>\n      <div class=\"content\">\n        <div class=\"title\">{{ playbackData.item.name }}</div>\n        <div class=\"desc\">\n          {{ playbackData.item.artists[0].name }}\n        </div>\n      </div>\n    </div>\n    <div class=\"action-buttons\" v-if=\"playbackData\">\n      <ion-icon name=\"play-back-outline\" @click=\"prev\"></ion-icon>\n      <ion-icon\n        :name=\"playbackData.is_playing ? 'pause-outline' : 'play-outline'\"\n        @click=\"toggleStatus\"\n      ></ion-icon>\n      <ion-icon name=\"play-forward-outline\" @click=\"next\"></ion-icon>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { onMounted, ref } from \"vue\";\nimport {\n  getMyCurrentPlayingTrack,\n  pause,\n  play,\n  skipToPrevious,\n  skipToNext,\n} from \"@/services/spotify\";\nconst containerClass = ref(\"\");\nconst playback = ref(null);\nconst playbackData = ref();\n\nconst getCurrentPlaying = () => {\n  getMyCurrentPlayingTrack().then((res) => {\n    playbackData.value = res;\n  });\n};\n\nconst toggleStatus = () => {\n  if (playbackData.value.is_playing) {\n    pause().then(() => {\n      getCurrentPlaying();\n    });\n  } else {\n    play().then(() => {\n      getCurrentPlaying();\n    });\n  }\n};\n\nconst prev = () => {\n  skipToPrevious().then(() => {\n    getCurrentPlaying();\n  });\n};\n\nconst next = () => {\n  skipToNext().then(() => {\n    getCurrentPlaying();\n  });\n};\n\nonMounted(() => {\n  getCurrentPlaying();\n\n  // if user scrolls to the bottom of the page,\n  document.addEventListener(\"scroll\", () => {\n    if (\n      window.innerHeight + window.scrollY + playback.value.offsetHeight >=\n      document.body.offsetHeight * 0.9\n    ) {\n      // then load more data\n      containerClass.value = \"fixd\";\n    } else {\n      containerClass.value = \"fixed\";\n      setTimeout(() => {}, 500);\n    }\n  });\n});\n</script>"]}]}