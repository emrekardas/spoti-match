{"remainingRequest":"C:\\Users\\A065413\\Documents\\GitHub\\spoti-match\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\A065413\\Documents\\GitHub\\spoti-match\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\A065413\\Documents\\GitHub\\spoti-match\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\A065413\\Documents\\GitHub\\spoti-match\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\A065413\\Documents\\GitHub\\spoti-match\\src\\components\\playback.vue?vue&type=template&id=6ed01cab","dependencies":[{"path":"C:\\Users\\A065413\\Documents\\GitHub\\spoti-match\\src\\components\\playback.vue","mtime":1652032297727},{"path":"C:\\Users\\A065413\\Documents\\GitHub\\spoti-match\\babel.config.js","mtime":1652032283166},{"path":"C:\\Users\\A065413\\Documents\\GitHub\\spoti-match\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652032285680},{"path":"C:\\Users\\A065413\\Documents\\GitHub\\spoti-match\\node_modules\\babel-loader\\lib\\index.js","mtime":1652032285342},{"path":"C:\\Users\\A065413\\Documents\\GitHub\\spoti-match\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1652032296722},{"path":"C:\\Users\\A065413\\Documents\\GitHub\\spoti-match\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652032285680},{"path":"C:\\Users\\A065413\\Documents\\GitHub\\spoti-match\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1652032296712}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBub3JtYWxpemVDbGFzcyBhcyBfbm9ybWFsaXplQ2xhc3MgfSBmcm9tICJ2dWUiOwp2YXIgX2hvaXN0ZWRfMSA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJpdGVtIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogIml0ZW0taW1hZ2UiCn07CnZhciBfaG9pc3RlZF8zID0gWyJzcmMiXTsKdmFyIF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJjb250ZW50Igp9Owp2YXIgX2hvaXN0ZWRfNSA9IHsKICBjbGFzczogInRpdGxlIgp9Owp2YXIgX2hvaXN0ZWRfNiA9IHsKICBjbGFzczogImRlc2MiCn07CnZhciBfaG9pc3RlZF83ID0gewogIGtleTogMSwKICBjbGFzczogImFjdGlvbi1idXR0b25zIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X2lvbl9pY29uID0gX3Jlc29sdmVDb21wb25lbnQoImlvbi1pY29uIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgIGNsYXNzOiBfbm9ybWFsaXplQ2xhc3MoWyJwbGF5YmFjayIsICRzZXR1cC5jb250YWluZXJDbGFzc10pLAogICAgcmVmOiAicGxheWJhY2siCiAgfSwgWyRzZXR1cC5wbGF5YmFja0RhdGEgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImltZyIsIHsKICAgIHNyYzogJHNldHVwLnBsYXliYWNrRGF0YS5pdGVtLmFsYnVtLmltYWdlc1swXS51cmwKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIF9ob2lzdGVkXzMpXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzQsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF81LCBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC5wbGF5YmFja0RhdGEuaXRlbS5uYW1lKSwgMQogIC8qIFRFWFQgKi8KICApLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF82LCBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC5wbGF5YmFja0RhdGEuaXRlbS5hcnRpc3RzWzBdLm5hbWUpLCAxCiAgLyogVEVYVCAqLwogICldKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgJHNldHVwLnBsYXliYWNrRGF0YSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzcsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9pb25faWNvbiwgewogICAgbmFtZTogInBsYXktYmFjay1vdXRsaW5lIiwKICAgIG9uQ2xpY2s6ICRzZXR1cC5wcmV2CiAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2lvbl9pY29uLCB7CiAgICBuYW1lOiAkc2V0dXAucGxheWJhY2tEYXRhLmlzX3BsYXlpbmcgPyAncGF1c2Utb3V0bGluZScgOiAncGxheS1vdXRsaW5lJywKICAgIG9uQ2xpY2s6ICRzZXR1cC50b2dnbGVTdGF0dXMKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsibmFtZSJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfaW9uX2ljb24sIHsKICAgIG5hbWU6ICJwbGF5LWZvcndhcmQtb3V0bGluZSIsCiAgICBvbkNsaWNrOiAkc2V0dXAubmV4dAogIH0pXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSwgMgogIC8qIENMQVNTICovCiAgKTsKfQ=="},{"version":3,"mappings":";;;;AAESA,OAAK,EAAC;;;AACJA,OAAK,EAAC;;;;AAGNA,OAAK,EAAC;;;AACJA,OAAK,EAAC;;;AACNA,OAAK,EAAC;;;;AAKVA,OAAK,EAAC;;;;;uBAZbC,oBAoBM,KApBN,EAoBM;AApBDD,SAAK,mBAAC,UAAD,EAAmCE,qBAAnC,EAoBJ;AApBgBC,OAAG,EAAC;AAoBpB,GApBN,GAC0BD,qCAAxBD,oBAUM,KAVN,cAUM,CATJG,oBAEM,KAFN,cAEM,CADJA,oBAAoD,KAApD,EAAoD;AAA9CC,OAAG,EAAEH,oBAAaI,IAAb,CAAkBC,KAAlB,CAAwBC,MAAxB,CAA8B,CAA9B,EAAkCC;AAAO,GAApD;;AAAA,eACI,CAFN,CASI,EANJL,oBAKM,KALN,cAKM,CAJJA,oBAAqD,KAArD,cAAqDM,iBAA/BR,oBAAaI,IAAb,CAAkBK,IAAa,CAArD,EAA4C;AAAA;AAA5C,GAII,EAHJP,oBAEM,KAFN,cAEMM,iBADDR,oBAAaI,IAAb,CAAkBM,OAAlB,CAAyB,CAAzB,EAA6BD,IAC5B,CAFN,EACsC;AAAA;AADtC,GAGI,CALN,CAMI,CAVN,wCAWkCT,qCAAlCD,oBAOM,KAPN,cAOM,CANJY,aAA4DC,mBAA5D,EAA4D;AAAlDH,QAAI,EAAC,mBAA6C;AAAxBI,WAAK,EAAEb;AAAiB,GAA5D,CAMI,EALJW,aAGYC,mBAHZ,EAGY;AAFTH,QAAI,EAAET,oBAAac,UAAb,GAAuB,eAAvB,GAAuB,cAEpB;AADTD,WAAK,EAAEb;AACE,GAHZ;;AAAA,aAKI,EADJW,aAA+DC,mBAA/D,EAA+D;AAArDH,QAAI,EAAC,sBAAgD;AAAxBI,WAAK,EAAEb;AAAiB,GAA/D,CACI,CAPN,uCAZF;;AAAA","names":["class","_createElementBlock","$setup","ref","_createElementVNode","src","item","album","images","url","_toDisplayString","name","artists","_createVNode","_component_ion_icon","onClick","is_playing"],"sourceRoot":"","sources":["C:\\Users\\A065413\\Documents\\GitHub\\spoti-match\\src\\components\\playback.vue"],"sourcesContent":["<template>\r\n  <div class=\"playback\" ref=\"playback\" :class=\"containerClass\">\r\n    <div class=\"item\" v-if=\"playbackData\">\r\n      <div class=\"item-image\">\r\n        <img :src=\"playbackData.item.album.images[0].url\" />\r\n      </div>\r\n      <div class=\"content\">\r\n        <div class=\"title\">{{ playbackData.item.name }}</div>\r\n        <div class=\"desc\">\r\n          {{ playbackData.item.artists[0].name }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"action-buttons\" v-if=\"playbackData\">\r\n      <ion-icon name=\"play-back-outline\" @click=\"prev\"></ion-icon>\r\n      <ion-icon\r\n        :name=\"playbackData.is_playing ? 'pause-outline' : 'play-outline'\"\r\n        @click=\"toggleStatus\"\r\n      ></ion-icon>\r\n      <ion-icon name=\"play-forward-outline\" @click=\"next\"></ion-icon>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { onMounted, ref } from \"vue\";\r\nimport {\r\n  getMyCurrentPlayingTrack,\r\n  pause,\r\n  play,\r\n  skipToPrevious,\r\n  skipToNext,\r\n} from \"@/services/spotify\";\r\nconst containerClass = ref(\"\");\r\nconst playback = ref(null);\r\nconst playbackData = ref();\r\n\r\nconst getCurrentPlaying = () => {\r\n  getMyCurrentPlayingTrack().then((res) => {\r\n    playbackData.value = res;\r\n  });\r\n};\r\n\r\nconst toggleStatus = () => {\r\n  if (playbackData.value.is_playing) {\r\n    pause().then(() => {\r\n      getCurrentPlaying();\r\n    });\r\n  } else {\r\n    play().then(() => {\r\n      getCurrentPlaying();\r\n    });\r\n  }\r\n};\r\n\r\nconst prev = () => {\r\n  skipToPrevious().then(() => {\r\n    getCurrentPlaying();\r\n  });\r\n};\r\n\r\nconst next = () => {\r\n  skipToNext().then(() => {\r\n    getCurrentPlaying();\r\n  });\r\n};\r\n\r\nonMounted(() => {\r\n  getCurrentPlaying();\r\n\r\n  // if user scrolls to the bottom of the page,\r\n  document.addEventListener(\"scroll\", () => {\r\n    if (\r\n      window.innerHeight + window.scrollY + playback.value.offsetHeight >=\r\n      document.body.offsetHeight * 0.9\r\n    ) {\r\n      // then load more data\r\n      containerClass.value = \"fixd\";\r\n    } else {\r\n      containerClass.value = \"fixed\";\r\n      setTimeout(() => {}, 500);\r\n    }\r\n  });\r\n});\r\n</script>"]}]}