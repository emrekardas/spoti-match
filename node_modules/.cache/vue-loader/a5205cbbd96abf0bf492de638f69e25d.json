{"remainingRequest":"C:\\Users\\eekar\\OneDrive\\Belgeler\\Git Repo\\spoti-match\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\eekar\\OneDrive\\Belgeler\\Git Repo\\spoti-match\\src\\views\\home.vue?vue&type=template&id=7eb2bc79&scoped=true","dependencies":[{"path":"C:\\Users\\eekar\\OneDrive\\Belgeler\\Git Repo\\spoti-match\\src\\views\\home.vue","mtime":1642018121000},{"path":"C:\\Users\\eekar\\OneDrive\\Belgeler\\Git Repo\\spoti-match\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650540585164},{"path":"C:\\Users\\eekar\\OneDrive\\Belgeler\\Git Repo\\spoti-match\\node_modules\\babel-loader\\lib\\index.js","mtime":1650540586655},{"path":"C:\\Users\\eekar\\OneDrive\\Belgeler\\Git Repo\\spoti-match\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1650540587807},{"path":"C:\\Users\\eekar\\OneDrive\\Belgeler\\Git Repo\\spoti-match\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650540585164},{"path":"C:\\Users\\eekar\\OneDrive\\Belgeler\\Git Repo\\spoti-match\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1650540586987}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPEhlcm8gdGl0bGU9IkhvbWUiIDppbWFnZT0iaW1hZ2UiIC8+CgogIDxkaXYgY2xhc3M9InJpZ2h0LXNlY3Rpb24tY29udGVudCI+CiAgICA8ZGl2PgogICAgICA8aDIgdi1pZj0iaXNMb2dpbigpIj5Zb3UncmUgYWxyZWFkeSBsb2dpbjwvaDI+CiAgICAgIDxCdXR0b24gdGV4dD0iU2lnbiB3aXRoIFNwb3RpZnkiIEBjbGljaz0ibG9naW5TcG90aWZ5IiAvPgogICAgPC9kaXY+CiAgPC9kaXY+Cg=="},{"version":3,"sources":["C:\\Users\\eekar\\OneDrive\\Belgeler\\Git Repo\\spoti-match\\src\\views\\home.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;;EAEnC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChC,CAAC,CAAC,CAAC,CAAC;MACF,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC7C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC1D,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/eekar/OneDrive/Belgeler/Git Repo/spoti-match/src/views/home.vue","sourceRoot":"","sourcesContent":["<template>\n  <Hero title=\"Home\" :image=\"image\" />\n\n  <div class=\"right-section-content\">\n    <div>\n      <h2 v-if=\"isLogin()\">You're already login</h2>\n      <Button text=\"Sign with Spotify\" @click=\"loginSpotify\" />\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport axios from \"axios\";\nimport { ref, onMounted } from \"vue\";\nimport Button from \"@/components/button\";\nimport Hero from \"@/components/hero.vue\";\nimport queryString from \"query-string\";\n\nconst image = ref(require(\"@/assets/images/hero-1.jpg\"));\n\nconst isLogin = () => {\n  return localStorage.getItem(\"access_token\");\n};\n\nonMounted(() => {\n  const urlSearchParams = new URLSearchParams(window.location.search);\n  const params = Object.fromEntries(urlSearchParams.entries());\n\n  if (!params.code) {\n    return;\n  }\n\n  axios\n    .post(\n      \"https://accounts.spotify.com/api/token\",\n      queryString.stringify({\n        code: params.code,\n        redirect_uri: process.env.VUE_APP_REDIRECT_URI,\n        grant_type: \"authorization_code\",\n      }),\n      {\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\n          Authorization:\n            \"Basic \" +\n            new Buffer(\n              process.env.VUE_APP_CLIENT_ID +\n                \":\" +\n                process.env.VUE_APP_CLIENT_SECRET\n            ).toString(\"base64\"),\n        },\n      }\n    )\n    .then((res) => {\n      localStorage.setItem(\"access_token\", res.data.access_token);\n    });\n});\n\nconst loginSpotify = () => {\n  const url = \"https://accounts.spotify.com/authorize\";\n\n  let params = {\n    response_type: \"code\",\n    client_id: process.env.VUE_APP_CLIENT_ID,\n    scope:\n      \"user-read-private user-read-email playlist-modify-private playlist-read-collaborative playlist-read-private playlist-modify-public user-read-recently-played user-top-read user-read-playback-position user-read-playback-state user-modify-playback-state user-modify-playback-state\",\n    redirect_uri: process.env.VUE_APP_REDIRECT_URI,\n    show_dialog: true,\n  };\n\n  params = new URLSearchParams(params).toString();\n\n  window.location.href = `${url}?${params}`;\n};\n</script>\n\n<style scoped>\n.right-section-content {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\nh2 {\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n</style>\n"]}]}